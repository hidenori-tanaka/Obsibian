# `__NOP`

No Operation

# `__WFI`

CPUを低消費電力状態にし、割り込みが発生するまでスリープさせる命令
割り込みが来たときのWFIの挙動
- 割り込みがPending状態→WFIに入らず復帰
	先に ``` __NVIC_ClearPendingIRQ()``` を呼ぶ必要があることもある
- マスクされている割り込み(PRIMASK=1)ではWFIは解除されない
- 割り込み無効時(PRIMASK=1)にもWDIには入れるが覚えている
```
__disable_irq();
__WDI();              // CPUはスリープするが、割り込みが来ても復帰しない！
```
- FreeROTSと併用時はポータブルレイヤーが管理、手動で入れると動作が壊れる
　``` portSUPPRESS_TICKS_AND_SLEEP() ``` を変わりに使うらしい
- WFI直後はパイプラインが乱れるため __ISB の仕様が推奨されるケースも

推奨シーケンス __DSB();__WFI()

# `__WFE`

CPUを低消費電力状態にし、イベントが発生するまでスリープさせる命令
Cortex-Mにおけるイベントとは
1.  割り込みがPendingになったとき
2. 他コア(または自身)からSEV命令が送られたとき
3. 特定のハードウェアイベント(ベンダ依存)


